#!/bin/bash
# PreResponse Hook - Track when Claude starts working on tasks

source "$(dirname "$0")/shared-functions.sh"
init_hook_env

# Record task start time (integer seconds for compatibility)
TASK_START_TIME=$(date +%s)
echo "ðŸš€ Task started: $(date) (${TASK_START_TIME})" >> "$HOOK_LOG"

# Store start time for duration calculation in PostResponse hook
echo "$TASK_START_TIME" > "$PROJECT_ROOT/.claude/task-start-time"

# Update Memory MCP with task start tracking
update_memory_mcp "task_timing" "Task started at $(date -Iseconds)"