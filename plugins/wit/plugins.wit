package novywave:plugins;

world runtime {
  import host: interface {
    /// Return the current set of opened waveform files.
    get-opened-files: func() -> list<string>;

    /// Replace the watched file set for this plugin; supplying an empty list clears watchers.
    register-watched-files: func(paths: list<string>, debounce-ms: u32);

    /// Remove any registered watchers for this plugin.
    clear-watched-files: func();

    /// Log an informational message via the host.
    log-info: func(message: string);

    /// Log an error message via the host.
    log-error: func(message: string);
  }

  export init: func();
  export greet: func();
  export shutdown: func();
}
